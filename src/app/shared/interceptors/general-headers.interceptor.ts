// general-headers.interceptor.ts
import {Injectable} from '@angular/core';
import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';
import {Observable} from 'rxjs';

@Injectable()
export class GeneralHeadersInterceptor implements HttpInterceptor {
  private token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ilg1ZVhrNHh5b2pORnVtMWtsMll0djhkbE5QNC1jNTdkTzZRR1RWQndhTmsiLCJ0eXAiOiJKV1QifQ.eyJvaWQiOiI3Njg0NDczNS00YmEwLTQ1YjYtYjI3Zi05ZDQ0YzhjODg3ZjAiLCJzdWIiOiI3Njg0NDczNS00YmEwLTQ1YjYtYjI3Zi05ZDQ0YzhjODg3ZjAiLCJuYW1lIjoiSHVzc2VpbiBIYXNzYW4iLCJnaXZlbl9uYW1lIjoiSHVzc2VpbiIsImZhbWlseV9uYW1lIjoiSGFzc2FuIiwiam9iVGl0bGUiOiJGcm9udGVuZCBUZWNoIExlYWQiLCJlbWFpbHMiOlsiaHVzc2Vpbi5oYXNzYW5AaW50ZWdyYW50LmNvbSJdLCJleHRlbnNpb25fY3BjbGFpbV9idWNrZXRfbmFtZSI6ImNwLWludGVncmFudC0yMDIzMDIwMiIsImV4dGVuc2lvbl9jcGNsYWltX3BhcnRuZXJfaWQiOiIyN2VkNzZjZS1iZGI5LTQxZjAtYWNhMi1hMTJjNTllZDJkMTciLCJleHRlbnNpb25fY3BjbGFpbV9wYXJ0bmVyX25hbWUiOiJJbnRlZ3JhbnQiLCJleHRlbnNpb25fY3BjbGFpbV9wYXJ0bmVyX3R5cGUiOiJEaXN0cmlidXRvciIsImV4dGVuc2lvbl9jcGNsYWltX3BhcnRuZXJfc2VydmljZXMiOiJbe1wiU2VydmljZUNvZGVcIjpcImNvbXBhdGliaWxpdHlfY2hlY2tcIixcIkFsbFByb2R1Y3RzXCI6ZmFsc2V9LHtcIlNlcnZpY2VDb2RlXCI6XCJnZW5lcmFsX2Fzc2V0c1wiLFwiQWxsUHJvZHVjdHNcIjpmYWxzZX0se1wiU2VydmljZUNvZGVcIjpcInByb2R1Y3RfYXNzZXRzXCIsXCJBbGxQcm9kdWN0c1wiOmZhbHNlfSx7XCJTZXJ2aWNlQ29kZVwiOlwicHJvamVjdFwiLFwiQWxsUHJvZHVjdHNcIjpmYWxzZX0se1wiU2VydmljZUNvZGVcIjpcInJlcXVlc3RzXCIsXCJBbGxQcm9kdWN0c1wiOmZhbHNlfSx7XCJTZXJ2aWNlQ29kZVwiOlwicHJvamVjdF9hc3NldHNcIixcIkFsbFByb2R1Y3RzXCI6ZmFsc2V9LHtcIlNlcnZpY2VDb2RlXCI6XCJyZWN5Y2xhYmlsaXR5X2NoZWNrXCIsXCJBbGxQcm9kdWN0c1wiOmZhbHNlfV0iLCJ0ZnAiOiJCMkNfMV9Tb2Z0d2FyZUVuZ2luZWVyaW5nQ3VzdG9tZXJQb3J0YWxfVEVTVCIsIm5vbmNlIjoiY2RmZjdlMTAtOTJjZi00MzdhLTk1OGMtYTY5OGY0YTMyYTJkIiwic2NwIjoiYXBpLWFjY2VzcyIsImF6cCI6Ijc0MmQ3MTIyLTZlY2YtNGY5MC05ZTAxLWRlZjQwYmUxYWUxOSIsInZlciI6IjEuMCIsImlhdCI6MTcxNTQ3MzQ4NCwiYXVkIjoiNTMwMDI4MjUtZjM2My00MjhiLWJhMjMtNjE1NGNlMDZiYTc5IiwiZXhwIjoxNzE1NDc3MDg0LCJpc3MiOiJodHRwczovL2FwdGFyYjJjZGV2LmIyY2xvZ2luLmNvbS9lNDI0Yjg5My1jYTU1LTQ5ZWQtYWY4Zi1kOTY4ZGE1MTgwZTIvdjIuMC8iLCJuYmYiOjE3MTU0NzM0ODR9.TW-EpHFZq-HWE8Qe86HRMZaOQW6Ydi48NU-3W_tgra6R3ofc-95SYLPaAlh6aof5acgWLJe-R5sGLkqVELEyPmSTUJqBWqFsnM3ivrnmgHJl0X2j7V5rUzFTbcTZEg1-PB2oSSTjYq91A2Zn7M-erD4NttpsmNrFhONQtSmkrHqUK3pAN2L5FXoWg2nfHYeqTs0X3fbDII1vkezLEWGdT8btH60_EJbD8REAte-RJVL-tr35np2PqmzM-zuhDyEWYxCzy3sm5UgUNaT8SZ-UnDZTmFOGfA8Oy-l6xdc2yozlBzRrMqTMQZo5GtsU_R8Mt1It7rSDdHyDK-SCS_QfnA'

  intercept(req : HttpRequest<any>, {handle} : HttpHandler) : Observable<HttpEvent<any>> {
    // Clone the request to add new headers
    const clonedRequest = req.clone({
      setHeaders: {
        'Authorization': `Bearer ${this.token}`, // Replace with actual header
        // Add more headers as needed
      }
    });

    // Pass the modified request to the next handler
    return handle(clonedRequest);
  }
}
